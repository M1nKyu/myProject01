<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/fragments/survey.css') }}">
<div class="survey-container">
    <!-- <div class="survey-header">
        <h3>잠깐! 설문조사에 참여해주세요</h3>
        <p>분석이 진행되는 동안 간단한 설문에 참여해주시면 더 나은 서비스를 제공할 수 있어요.</p>
    </div> -->
    <div class="survey-content">
        <!-- 현재 설문 번호 표시 -->
        <div class="survey-step-label"><span id="survey-step-label">❶</span></div>
        <!-- 진행 막대: JS로 동적 생성 -->
        <div class="progress-bars" aria-label="설문 진행 상태"></div>

        <!-- 1단계. 접속 경로 (단일 선택) -->
        <div class="question" id="question-1">
            <h4>접속 경로<br>"어디서 저희 서비스를 알게 되셨나요?"</h4>
            <div class="options">
                <label>
                    <input type="radio" name="step1_source" value="search" style="display:none;">
                    <div class="option-content"><div class="option-text">인터넷 검색(구글/네이버 등)</div></div>
                </label>
                <label>
                    <input type="radio" name="step1_source" value="instagram" style="display:none;">
                    <div class="option-content"><div class="option-text">인스타그램</div></div>
                </label>
                <label>
                    <input type="radio" name="step1_source" value="youtube" style="display:none;">
                    <div class="option-content"><div class="option-text">유튜브</div></div>
                </label>
                <label>
                    <input type="radio" name="step1_source" value="linkedin" style="display:none;">
                    <div class="option-content"><div class="option-text">링크드인</div></div>
                </label>
                <label>
                    <input type="radio" name="step1_source" value="kakao" style="display:none;">
                    <div class="option-content"><div class="option-text">카카오톡/카카오채널</div></div>
                </label>
                <label>
                    <input type="radio" name="step1_source" value="referral" style="display:none;">
                    <div class="option-content"><div class="option-text">지인 추천</div></div>
                </label>
                <label>
                    <input type="radio" name="step1_source" value="other" style="display:none;">
                    <div class="option-content"><div class="option-text">기타</div></div>
                </label>
            </div>
        </div>

        <!-- 2단계. 사용자 직군 -->
        <div class="question hidden" id="question-2">
            <h4>사용자 정보 - 사용자 직군</h4>
            <div class="options">
                <label>
                    <input type="radio" name="step2_role" value="developer" style="display:none;">
                    <div class="option-content"><div class="option-text">개발자</div></div>
                </label>
                <label>
                    <input type="radio" name="step2_role" value="designer" style="display:none;">
                    <div class="option-content"><div class="option-text">디자이너</div></div>
                </label>
                <label>
                    <input type="radio" name="step2_role" value="marketer_pm" style="display:none;">
                    <div class="option-content"><div class="option-text">마케터/기획자</div></div>
                </label>
                <label>
                    <input type="radio" name="step2_role" value="management" style="display:none;">
                    <div class="option-content"><div class="option-text">경영/관리</div></div>
                </label>
                <label>
                    <input type="radio" name="step2_role" value="other" style="display:none;">
                    <div class="option-content"><div class="option-text">기타</div></div>
                </label>
            </div>
        </div>

        <!-- 3단계. 운영 여부 (단일 선택) -->
        <div class="question hidden" id="question-3">
            <h4>이 웹사이트는 본인/회사에서 운영 중인가요?</h4>
            <div class="options">
                <label>
                    <input type="radio" name="step2_owner" value="yes" style="display:none;">
                    <div class="option-content"><div class="option-text">예, 내 웹사이트다</div></div>
                </label>
                <label>
                    <input type="radio" name="step2_owner" value="no" style="display:none;">
                    <div class="option-content"><div class="option-text">아니요, 다른 사람이 운영하는 웹사이트다</div></div>
                </label>
            </div>
        </div>

        <!-- 4단계. 추가 정보(조건부) - 월간 방문자 수 -->
        <div class="question hidden" id="question-4">
            <h4>월간 방문자 수</h4>
            <div class="options">
                <label><input type="radio" name="step3_visitors" value="lt_1k" style="display:none;"><div class="option-content"><div class="option-text">1천 미만</div></div></label>
                <label><input type="radio" name="step3_visitors" value="1k_10k" style="display:none;"><div class="option-content"><div class="option-text">1천 ~ 1만</div></div></label>
                <label><input type="radio" name="step3_visitors" value="10k_100k" style="display:none;"><div class="option-content"><div class="option-text">1만 ~ 10만</div></div></label>
                <label><input type="radio" name="step3_visitors" value="gt_100k" style="display:none;"><div class="option-content"><div class="option-text">10만 이상</div></div></label>
                <label><input type="radio" name="step3_visitors" value="unknown" style="display:none;"><div class="option-content"><div class="option-text">잘 모르겠음</div></div></label>
            </div>
        </div>

        <!-- 5단계. 추가 정보(조건부) - 웹사이트 유형 -->
        <div class="question hidden" id="question-5">
            <h4>추가 정보 (선택) - 웹사이트 유형</h4>
            <div class="options">
                <label><input type="radio" name="step3_type" value="company" style="display:none;"><div class="option-content"><div class="option-text">기업 소개</div></div></label>
                <label><input type="radio" name="step3_type" value="commerce" style="display:none;"><div class="option-content"><div class="option-text">쇼핑몰/커머스</div></div></label>
                <label><input type="radio" name="step3_type" value="public" style="display:none;"><div class="option-content"><div class="option-text">공공기관</div></div></label>
                <label><input type="radio" name="step3_type" value="blog_portfolio" style="display:none;"><div class="option-content"><div class="option-text">블로그/개인 포트폴리오</div></div></label>
                <label><input type="radio" name="step3_type" value="other" style="display:none;"><div class="option-content"><div class="option-text">기타</div></div></label>
            </div>
        </div>

        <!-- 6단계. 감사 인사 (마지막 슬라이드) -->
        <div class="question hidden" id="question-6">
            <img alt="설문 완료" src="{{ url_for('static', filename='img/webp/common/survey-complete.webp') }}">
            <h4 class="thanks-title">소중한 의견 감사합니다!</h4>
            <div class="thanks-desc-1">
                고객님께 딱 맞는 서비스를 준비하는 데 큰 도움이 될 거예요
            </div>

            <!-- 이메일 입력란 (선택) -->
            <div id="email-input-block">
                <label for="step4_email">리포트 수령을 원하시면 이메일을 입력해주세요 (선택)</label>
                <input type="email" id="step4_email" placeholder="email@example.com">
            </div>

            <div id="thanks-optin-block">
                <label>
                    <input type="checkbox" id="step7_updates_optin"> 향후 개선 솔루션/업데이트 소식 받기 (선택)
                </label>
                <div>입력하신 이메일은 리포트 발송 및 선택하신 경우 업데이트 안내 목적 외에는 사용되지 않습니다.</div>
            </div>
            <button id="survey-finish" class="survey-btn">설문을 마칩니다</button>
        </div>

        <div class="survey-actions">
            <button id="survey-prev" class="survey-btn-secondary hidden">이전</button>
            <button id="survey-next" class="survey-btn hidden">다음</button>
            <button id="survey-complete" class="survey-btn hidden">완료</button>
        </div>

        <!-- 하단 고정 푸터: 격식있는 건너뛰기 버튼 -->
        <div class="survey-footer">
            <button id="survey-skip-bottom" class="survey-btn-secondary">설문을 건너뛰겠습니다</button>
        </div>
    </div>
</div>
